<!DOCTYPE html>

<html lang="en" dir="ltr">
    <audio controls id="audioInput" crossorigin="anonymous" src="stray.wav" type="audio/wav"></audio>
    <button id="loadButton" type="button">Load</button>
    <head>
        <meta charset="utf-8">
        <title></title>
        <style>
            body {
                margin: 0
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    </head>
    <body>
        <canvas id="myCanvas" width="200" height="100"></canvas>
        <div id = "scene"> </div>
        <script type="x-shader/x-vertex" id="vertexShader">
            uniform float amplitude;
            varying vec3 vColor;
            attribute vec3 center;


            void main() {
                gl_PointSize = 1.5;
                vColor = color;

                vec4 new_pos = vec4(position, 1.0);

                if (amplitude >= 0.0) {
                    new_pos.z = -(new_pos.z * amplitude + center.z);
                    new_pos.x = -(new_pos.x * amplitude + center.x);
                    new_pos.y = -(new_pos.y * amplitude + center.y);
                } else {
                    new_pos.z = new_pos.z * amplitude - center.z;
                    new_pos.x = new_pos.x * amplitude - center.x;
                    new_pos.y = new_pos.y * amplitude - center.y;
                }

                // new_pos.z = center.z;
                // new_pos.x += center.x;
                // new_pos.y += center.y;



                gl_Position = projectionMatrix * modelViewMatrix * new_pos;
            }
        </script>

        <script type="x-shader/x-fragment" id="fragmentShader">
            varying vec3 vColor;

            void main() {
                gl_FragColor = vec4( vColor, 1.0 );
            }

        </script>
        <script src="./three.js/three.min.js"></script>
        <script src="./js/jquery-3.4.0.min.js"></script>
        <script src="./js/index.js"></script>
    </body>


</html>
